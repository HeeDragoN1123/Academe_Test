<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>계산기</title>

    <style>
        table {
            width: 600px;
            height: 600px;
            border: 1px solid black;
            text-align: center;
        }

        .numpad_head {
            /* 계산기 안의가로를 꽉차게 */
            width: 100%;
            height: 100px;
            background-color: antiquewhite;
        }

        #display {
            width: 70%;
            height: 100%;
            font-size: 30px;
            text-align: center;
            border: none;
            background-color: antiquewhite;
        }

        button {
            width: 100%;
            height: 100%;
            font-size: 30px;
        }

        .num {
            width: 25%;
            height: 100px;
        }

        .calculator {
            width: 100%;
            height: 100%;
            border-collapse: collapse;
        }

        #modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            /* 배경 어둡게 */
            display: none;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            width: 300px;
            text-align: center;
        }

        .close {
            float: right;
            font-size: 24px;
            cursor: pointer;
        }
    </style>

</head>

<body>
    <header>
        <h1>계산기</h1>
    </header>

    <div id="wrap">

        <section>
            <table class="calculator">
                <!-- 4*5 표만들기 -->
                <tr class="numpad_head">
                    <!-- ht 전부 합쳐서 한줄에 표시 -->
                    <th colspan="4" class="numpad_head">
                        <input type="text" id="display" placeholder="숫자를 입력하세요" disabled>

                    </th>
                </tr>

                <tr>
                    <td class="num"><button>7</button></td>
                    <td class="num"><button>8</button></td>
                    <td class="num"><button>9</button></td>
                    <td class="num"><button>+</button></td>
                </tr>
                <tr>
                    <td class="num"><button>4</button></td>
                    <td class="num"><button>5</button></td>
                    <td class="num"><button>6</button></td>
                    <td class="num"><button>-</button></td>
                </tr>
                <tr>
                    <td class="num"><button>1</button></td>
                    <td class="num"><button>2</button></td>
                    <td class="num"><button>3</button></td>
                    <td class="num"><button>*</button></td>
                </tr>
                <tr>
                    <td class="num"><button>0</button></td>
                    <td class="num"><button>C</button></td>
                    <td class="num"><button>=</button></td>
                    <td class="num"><button>/</button></td>
                </tr>


            </table>

        </section>;


        <!-- modal 창 만들기 -->
        <section>
            <h2>모달 창</h2>
            <button id="openModal">모달 열기</button>
            <div id="modal" style="display:none;">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <p>모달 내용</p>
                </div>
            </div>

        </section>

        <div class="test"><button id="teston">test</button></div>

        <button id="startPopup" onclick="on">3초마다 새창 열기 시작</button>

    </div>


    <script>

        // 자바스크립트 테스트 버튼으로 뒤로가기 버튼 만들기

        // 뒤로가기 버튼을 클릭하면 이전 페이지로 이동
        // document.getElementById("teston").addEventListener("click", test);
        // // 뒤로가기 버튼 함수

        // // history.back() 또는 history.go(-1) 사용하여 이전 페이지로 이동
        // function test() {
        //     history.go(1);
        // }

        document.getElementById("teston").addEventListener("click", test);

        // function test() {
        //     // 페이지 상단으로 이동
        //     window.scrollTo({
        //         top: 0,
        //         behavior: 'smooth' // 부드러운 스크롤 효과
        //     });
        // }

        // function test() {
        //     // 새 윈도우 열기   
        //     window.open("https://www.naver.com", "");
        // }

        // document.getElementById("startPopup").addEventListener("click", function () {
        //     let x = 0;
        //     let y = 0;

        //     setInterval(function () {
        //         x += 30;
        //         y += 30;

        //         const options = `width=300,height=200,left=${x},top=${y}`;
        //         window.open("https://example.com", "_blank", options);
        //     }, 3000);
        // });


        function test() {

            win = window.open("https://www.naver.com", "newWindow", "width=300,height=300");

            win.moveTo({
                top: 300,
                left: 300,
            });
        }



        // setTimeout(function () {
        //     const modal = document.getElementById("modal");
        //     modal.style.display = "block"; // 페이지 로드 후 모달 자동 열기
        // }, 1000); // 1초 후에 모달 열기 

        // setInterval(function () {
        //     const modal = document.getElementById("modal");
        //     modal.style.display = "block"; // 페이지 로드 후 모달 자동 열기
        // }, 5000); // 5초마다 모달 열기

        // location.href = page.top; // 페이지 상단으로 이동

        document.getElementById("openModal").addEventListener("click", function () {
            document.getElementById("modal").style.display = "block";
        });

        document.querySelector(".close").addEventListener("click", function () {
            document.getElementById("modal").style.display = "none";
        });

        modal.open = function () {
            const modal = document.getElementById("modal");
            modal.style.display = "block";
        }
        modal.close = function () {
            const modal = document.getElementById("modal");
            modal.style.display = "none";
        }
        modal.focus = function () {
            const modal = document.getElementById("modal");
            modal.querySelector(".modal-content").focus();
        }

        const calculator = document.querySelector(".calculator"); // 클래스 선택


        calculator.addEventListener("click", function (e) {
            const display = document.getElementById("display");
            const value = e.target.innerText;   // 클릭한 버튼의 텍스트를 가져옴
            parseFloat(display.value)  // 숫자로 변환
            if (value === "C") {
                display.value = "";  // C 버튼 클릭시 디스플레이 초기화
            } else if (value === "=") {
                try {
                    // if  로  사칙연산 계산
                    if (display.value.includes("+")) {
                        let numbers = display.value.split("+");
                        display.value = parseFloat(numbers[0]) + parseFloat(numbers[1]);
                    } else if (display.value.includes("-")) {
                        let numbers = display.value.split("-");
                        display.value = parseFloat(numbers[0]) - parseFloat(numbers[1]);
                    } else if (display.value.includes("*")) {
                        let numbers = display.value.split("*");
                        display.value = parseFloat(numbers[0]) * parseFloat(numbers[1]);
                    } else if (display.value.includes("/")) {
                        let numbers = display.value.split("/");
                        display.value = parseFloat(numbers[0]) / parseFloat(numbers[1]);
                    }
                } catch (error) {
                    display.value = "Error";  // 계산 오류시 에러 메시지 표시
                }
            } else {
                display.value += value;  // 숫자나 연산자 버튼 클릭시 디스플레이에 추가
            }


        })

    </script>


</body>

</html>