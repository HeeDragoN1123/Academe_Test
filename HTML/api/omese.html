<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <title>ë¶€ì‚° ë§›ì§‘ ì •ë³´</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
        }

        h2 {
            color: #2c3e50;
        }

        .restaurant {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 8px;
            background: #f9f9f9;
        }
    </style>
</head>

<body>
    <h2>ë¶€ì‚° ë§›ì§‘ ì •ë³´</h2>
    <div id="list">ë¡œë”© ì¤‘...</div>

    <script>
        const serviceKey = "uNUw2vbJPt%2FIOK0qGJ2UzMDNRVgUQhIGOvu8M%2F9aQRuYwk1wNa%2BFUIlNT9Zme9lp1tOIwJUtPg%2FwMXrsaBdESg%3D%3D";
        const apiUrl = `https://apis.data.go.kr/6260000/FoodService/getFoodKr?serviceKey=${serviceKey}&pageNo=1&numOfRows=10&resultType=json`;

        $.ajax({
            url: apiUrl,
            method: 'GET',
            success: function (response) {
                console.log(response);  // ì—¬ê¸°ì— ì¶œë ¥
                console.log("API ì‘ë‹µ ì „ì²´:", response); // ì‘ë‹µ êµ¬ì¡° í™•ì¸ìš© ë¡œê·¸

                if (!response.getFoodKr || !response.getFoodKr.item) {
                    $("#list").html("ğŸ“› ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤ ë˜ëŠ” í˜•ì‹ ì˜¤ë¥˜");
                    return;
                }

                const items = response.getFoodKr.item;
                let html = "";

                items.forEach(function (item) {
                    html += `
          <div class="restaurant">
            <strong>${item.MAIN_TITLE}</strong><br>
            ğŸ“ ${item.ADDR1}<br>
            â˜ï¸ ${item.CNTCT_TEL || "ì „í™”ë²ˆí˜¸ ì—†ìŒ"}<br>
            ğŸŒ <a href="${item.HOMEPAGE_URL}" target="_blank">${item.HOMEPAGE_URL || "í™ˆí˜ì´ì§€ ì—†ìŒ"}</a>
          </div>
        `;
                });

                $("#list").html(html);
            },
            error: function (error) {
                $("#list").html("ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
                console.error(error);
            }
        });
    </script>
</body>

</html>